import{T as $,U as ee,V as te,n as re,W as ne,X as _,Y as l,Z as T,_ as O,$ as v,l as m,v as N,p as D,F,k as u,f,r as b,a as c,w as Y,c as se,b as I,t as oe,a0 as ie,a1 as ae,a2 as ce,a3 as le}from"./props-CGU9rLev.js";import{O as ue}from"./index-D-8MO0q_.js";import{y as fe,g as j}from"./index-BHYIh-Xd.js";function de(t,e,...r){var n=t,s=re,o;$(()=>{s!==(s=e())&&(o&&(ne(o),o=null),o=te(()=>s(n,...r)))},ee)}const ye=t=>t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),me=t=>ue(t.replace(/([A-Z])/g," $1").trim()),K=t=>ye(me(t)),k="storybook-stories-extractor-context";function L(t){let e=l(t.isExtracting),r=l(t.register);return{get isExtracting(){return e},get register(){return r}}}function ge(t){const{stories:e}=t,r=L({isExtracting:!0,register:n=>{e.set(n.exportName??K(n.name),n)}});_(k,r)}function pe(){return T(k)||_(k,L({isExtracting:!1,register:()=>{}})),O(k)}const q="storybook-story-renderer-context";function xe(t){let e=v(l(t.currentStoryExportName)),r=v(l(t.args)),n=v(l(t.storyContext));function s(o){N(e,l(o.currentStoryExportName)),N(r,l(o.args)),N(n,l(o.storyContext))}return{get args(){return m(r)},get storyContext(){return m(n)},get currentStoryExportName(){return m(e)},set:s}}function _e(){const t=xe({currentStoryExportName:void 0,args:{},storyContext:{}});_(q,t)}function P(){return T(q)||_e(),O(q)}const g="storybook-stories-template-snippet-context";function U(){let t=v(void 0);function e(r){N(t,l(r))}return{get template(){return m(t)},set:e}}function Ce(){return T(g)||_(g,U()),O(g).template}function Me(t){T(g)||_(g,U()),O(g).set(t)}var Ee=oe('<p>No story rendered. See <a href="https://github.com/storybookjs/addon-svelte-csf#defining-stories" target="_blank">the docs</a> on how to define stories.</p>');function X(t,e){D(e,!0);const r=ie(e,["$$slots","$$events","$$legacy","children","name","exportName","play"]),n=e.exportName??K(e.name),s=pe(),o=P(),a=Ce(),i=ae(()=>!s.isExtracting&&o.currentStoryExportName===n);s.isExtracting&&s.register({children:e.children,name:e.name,exportName:n,play:e.play,...r});function d(E,p){p&&E.playFunction&&(E.playFunction.__play=p)}F(()=>{m(i)&&d(o.storyContext,e.play)});var y=u(),C=f(y);b(C,()=>m(i),E=>{var p=u(),J=f(p);b(J,()=>e.children,h=>{var x=u(),w=f(x);de(w,()=>e.children,()=>o.args,()=>o.storyContext),c(h,x)},h=>{var x=u(),w=f(x);b(w,()=>a,A=>{a(A,()=>o.args,()=>o.storyContext)},A=>{var M=u(),z=f(M);b(z,()=>o.storyContext.component,R=>{var S=u(),H=f(S);Y(H,()=>o.storyContext.component,(Q,V)=>{V(Q,se(()=>o.args))}),c(R,S)},R=>{var S=Ee();c(R,S)},!0),c(A,M)},!0),c(h,x)}),c(E,p)}),c(t,y),I()}X.__docgen={data:[],name:"Story.svelte"};function je(t){return{Story:X,meta:t}}function W(t,e){D(e,!0),ge(e.repository());var r=u(),n=f(r);Y(n,()=>e.Stories,(s,o)=>{o(s,{})}),c(t,r),I()}W.__docgen={data:[{name:"Stories",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"repository",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"() => StoriesRepository<Cmp>"},static:!1,readonly:!1}],name:"StoriesExtractor.svelte"};function Se(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}function be(t){return Object.is(t,-0)?"-0":t.toString()}function ve(t){const e=[],r=t.length;if(r===0)return e;let n=0,s="",o="",a=!1;for(t.charCodeAt(0)===46&&(e.push(""),n++);n<r;){const i=t[n];o?i==="\\"&&n+1<r?(n++,s+=t[n]):i===o?o="":s+=i:a?i==='"'||i==="'"?o=i:i==="]"?(a=!1,e.push(s),s=""):s+=i:i==="["?(a=!0,s&&(e.push(s),s="")):i==="."?s&&(e.push(s),s=""):s+=i,n++}return s&&e.push(s),e}function B(t,e,r){if(t==null)return r;switch(typeof e){case"string":{const n=t[e];return n===void 0?Se(e)?B(t,ve(e),r):r:n}case"number":case"symbol":{typeof e=="number"&&(e=be(e));const n=t[e];return n===void 0?r:n}default:{if(Array.isArray(e))return Ne(t,e,r);Object.is(e==null?void 0:e.valueOf(),-0)?e="-0":e=String(e);const n=t[e];return n===void 0?r:n}}}function Ne(t,e,r){if(e.length===0)return r;let n=t;for(let s=0;s<e.length;s++){if(n==null)return r;n=n[e[s]]}return n===void 0?r:n}const{addons:ke}=__STORYBOOK_MODULE_PREVIEW_API__,Te=ke.getChannel(),Oe=t=>{const{storyContext:e}=t;if(he(e))return;const r=we({code:e.parameters.__svelteCsf.rawCode,args:t.args});setTimeout(()=>{Te.emit(fe,{id:e.id,args:e.unmappedArgs,source:r})})},he=t=>{var s;const e=(s=t==null?void 0:t.parameters.docs)==null?void 0:s.source,r=t==null?void 0:t.parameters.__isArgsStory;return(t==null?void 0:t.parameters.__svelteCsf.rawCode)?(e==null?void 0:e.type)===j.DYNAMIC?!1:!r||(e==null?void 0:e.code)||(e==null?void 0:e.type)===j.CODE:!0},we=({code:t,args:e})=>{const r=Object.entries(e??{}).map(([o,a])=>Re(o,a)).filter(o=>o);let n=r.join(" ");return n.length>50&&(n=`
  ${r.join(`
  `)}
`),t.replaceAll("{...args}",n).replace(/args(?:[\w\d_$\.\?\[\]"'])+/g,o=>{const a=o.replaceAll("?",""),i=B({args:e},a);return G(i)})},Ae=t=>{var r;const e=((r=t.getMockName)==null?void 0:r.call(t))??t.name;return e&&e!=="spy"?e:"() => {}"},G=t=>{var e;return typeof t=="object"&&t[Symbol.for("svelte.snippet")]?"snippet":typeof t=="function"?Ae(t):(e=JSON.stringify(t,null,1))==null?void 0:e.replace(/\n/g,"").replace(new RegExp("(?<!\\s)([}\\]])$")," $1")},Re=(t,e)=>{if(e==null)return null;if(e===!0)return t;const r=G(e);return typeof e=="string"?`${t}=${r}`:`${t}={${r}}`};function Z(t,e){D(e,!0);const r=P();F(()=>{r.set({currentStoryExportName:e.exportName,args:e.args,storyContext:e.storyContext})}),F(()=>{Oe({args:e.args,storyContext:e.storyContext})});var n=u(),s=f(n);Y(s,()=>e.Stories,(o,a)=>{a(o,{})}),c(t,n),I()}Z.__docgen={data:[{name:"Stories",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"exportName",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"args",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"storyContext",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1}],name:"StoryRenderer.svelte"};const{logger:Fe}=__STORYBOOK_MODULE_CLIENT_LOGGER__,qe=document.createDocumentFragment?()=>document.createDocumentFragment():()=>document.createElement("div"),Ke=(t,e)=>{const r={stories:new Map};try{const s=ce(W,{target:qe(),props:{Stories:t,repository:()=>r}});le(s)}catch(s){Fe.error(`Error in mounting stories ${s.toString()}`,s)}const n={};for(const[s,o]of r.stories){const a={...o,render:(d,y)=>({Component:Z,props:{exportName:s,Stories:t,storyContext:y,args:d}})},i=e.play??o.play;i&&(a.play=d=>{var C;const y=(C=d.playFunction)==null?void 0:C.__play;return y?y(d):i(d)}),n[s]=a}return n};export{de as a,Ke as c,je as d,Me as s};
